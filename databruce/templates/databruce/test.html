{% extends "databruce/base.html" %}
{% load static %}
{% block title %}
  Test
{% endblock title %}
{% block content %}
  <h4>Songs</h4>
  <div class="table-responsive">
    <table id="myTable"
           width="100%"
           class="table table-striped table-bordered dt-responsive compact nowrap">
    </table>
  </div>
  <script>
    $(document).ready(function() {
      $('#myTable').DataTable({
          layout: layout,
          processing: true,
          serverSide: true,
          ajax: {
              url: '/api/v1/songs/?format=datatables', // Your Django endpoint
              type: 'GET'
          },
          columns: [
              { data: 'name', name: 'name' },
              { data: 'first.date', name: 'first__date' },
              { data: 'last.date', name: 'last__date' },
          ],
      });
    });
  </script>
{% endblock content %}
